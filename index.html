<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>Spell Card Generator</title>
        <meta name="description" content="The HTML5 Herald">
        <meta name="author" content="SitePoint">

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="css/bootstrap-select.min.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.css"/>
        <link rel="stylesheet" href="css/styles.css">
    </head>

    <body>
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <!-- <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#customSpellForm" aria-expanded="false" aria-controls="customSpellForm">
                        Add Custom Spell
                    </button> -->
                    <div class="collapse" id="customSpellForm">
                        <div class="card">
                            <div class="card-body">
                                <form>
                                    <div class="form-group">
                                        <label>Spell Name</label>
                                        <input class="form-control" type="text" data-bind="textInput: title" placeholder="Spell name"></input>
                                    </div>
                                    <div class="form-group">
                                        <label>Level</label>
                                        <select class="form-control level-picker" data-bind="options: levelList, 
                                                                                            optionsText: 'levelName',
                                                                                            optionsValue: 'value',
                                                                                            value: level"></select>
                                        <label>School</label>
                                        <select class="form-control school-picker" data-bind="options: schoolList, value: school"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>Casting Time</label>
                                        <select class="form-control cast-time-picker" data-bind="options: timeList, value: time"></select>
                                        <input class="form-control" type="text" data-bind="textInput: timeDesc, visible: (time() == 'other')" placeholder="Casting Time"></input>
                                    </div>
                                    <div class="form-group">
                                        <label>Range</label>
                                        <input class="form-control" type="text" data-bind="textInput: range" placeholder="Range"></input>
                                    </div>
                                    <div class="form-group">
                                        <label>Components</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" data-bind="checked: verbal"></input>
                                            <label class="form-check-label">Verbal</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" data-bind="checked: somantic"></input>
                                            <label class="form-check-label">Somantic</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" data-bind="checked: material"></input>
                                            <label class="form-check-label">Material</label>
                                        </div>
                                        <input class="form-control" type="text" data-bind="textInput: materialDesc, visible: material" placeholder="Materials"></input>
                                    </div>
                                    <div class="form-group">
                                        <label>Duration</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" data-bind="checked: concentration"></input>
                                            <label class="form-check-label">Concentration</label>
                                        </div>
                                        <input class="form-control" type="text" data-bind="textInput: durationDesc" placeholder="Duration"></input>
                                    </div>
                                    <div class="form-group">
                                        <label>Class</label>
                                        <select class="form-control class-picker" data-bind="options: classList, selectedOptions: selectedClasses" multiple></select><br>
                                    </div>
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea class="form-control" data-bind="textInput: description" placeholder="Description..."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label>At Higher Levels</label>
                                        <textarea class="form-control" data-bind="textInput: higherLevels" placeholder="Description..."></textarea>
                                    </div>
                                </form>
                                <button class="btn btn-primary" data-bind="click: addSpell">Add Spell</button>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <table data-bind="visible: spellList().length > 0" class="table table-striped table-dark" id="spellListTable">
                                <thead>
                                    <tr><th>Spell Name</th><th>Type</th><th>Casting Time</th><th>Components</th><th></th></tr>
                                </thead>
                                <tbody data-bind="foreach: spellList">
                                    <tr>
                                        <td data-bind="text: name"></td>
                                        <td data-bind="text: type"></td>
                                        <td data-bind="text: castingTime"></td>
                                        <td data-bind="text: serializedComponents"></td>
                                        <td data-bind="click: $parent.removeSpell">Remove</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="./externals/require.js"></script>
        <script src="./built/require-config.js"></script>
        <script>
            require(["built/spell-list"])
        </script>
    </body>
</html>